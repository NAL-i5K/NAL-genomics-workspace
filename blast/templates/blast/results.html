{% extends "app/layout.html" %}
{% load staticfiles %}

{% block navbar%}
    <li><a href="./{{task_id}}">Results</a></li>
{% endblock%}

{% block head-scripts %}
    <link rel="import" href="{% static 'blast/components/core-splitter/core-splitter.html' %}" />
    <link rel="import" href="{% static 'blast/components/code-mirror/code-mirror.html' %}" />
    <link rel="stylesheet" type="text/css" href="{% static 'blast/css/jquery-ui.min.css' %}" />
    <link rel="stylesheet" type="text/css" href="{% static 'blast/css/dataTables.jqueryui.css' %}" />
    <link rel="stylesheet" type="text/css" href="{% static 'blast/dataTables/css/jquery.dataTables.min.css' %}" />
    <link rel="stylesheet" type="text/css" href="{% static 'blast/dataTables/css/dataTables.scroller.min.css' %}" />
    <link rel="stylesheet" type="text/css" href="{% static 'blast/dataTables/css/dataTables.colReorder.min.css' %}" />
    <link rel="stylesheet" type="text/css" href="{% static 'blast/dataTables/css/dataTables.bootstrap.css' %}" />
    <link rel="stylesheet" type="text/css" href="{% static 'blast/css/bootstrap-select.min.css' %}" />
    <link rel="stylesheet" type="text/css" href="{% static 'blast/css/blast-results.css' %}" />
    <!--
    <link rel="stylesheet" type="text/css" href="{% static 'blast/dataTables/css/dataTables.tableTools.css' %}" />
    <link rel="stylesheet" type="text/css" href="{% static 'blast/css/codemirror.css' %}" />
    <link rel="stylesheet" type="text/css" href="{% static 'blast/dataTables/css/dataTables.colVis.min.css' %}" />
    <link rel="stylesheet" type="text/css" href="{% static 'blast/css/jquery.dataTables.yadcf.css' %}" />
    -->
    <script src="{% static 'blast/scripts/jquery-1.11.1.min.js' %}"></script>
    <script>
    //$('body').attr('unresolved', ''); // To fit polymer's requirement for <body>
    //$('body').attr('fullbleed', ''); // To fit polymer's requirement for <body>
    var results_col_names = {{ results_col_names|safe }};
    var results_col_names_display = {{ results_col_names_display|safe }};
    var results_data = {{ results_data|safe }};
    var results_info = {{ results_info|safe }};
    var task_id = '{{ task_id }}';
    </script>
{% endblock %}

{% block content-fluid %}
<div vertical layout id="result-container">
    <div horizontal layout id="top-side-by-side-container">
        <div class="graph-container">
            <div class="graph-title-container">
                <span class="graph-title">Query Coverage Graph - <span id="query-canvas-name"></span></span>
            </div>
            <div class="graph-canvas-container">
                <canvas id="query-canvas"></canvas>
            </div>
        </div>
        <core-splitter id="graph-splitter" direction="left" disableSelection></core-splitter>
        <div flex class="graph-container">
            <div class="graph-title-container">
                <span class="graph-title">Subject Coverage Graph - <span id="subject-canvas-name"></span></span>
            </div>
            <div class="graph-canvas-container">
                <canvas id="subject-canvas"></canvas>
            </div>
        </div>
    </div>
    <core-splitter id="horizontal-splitter" direction="up" disableSelection></core-splitter>
    <div flex horizontal layout id="bottom-side-by-side-container">
        <div id="table-container">
            <table id="results-table" class="table table-striped table-bordered" cellspacing="0" width="100%">
                <thead><tr><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th></tr></thead>
                <tfoot><tr><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th></tr></tfoot>
            </table>
        </div>
        <core-splitter direction="left" allowOverflow disableSelection></core-splitter>
        <code-mirror flex id="results-text">{{ results_detail|safe }}</code-mirror>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="{% static 'blast/scripts/jquery-ui.min.js' %}"></script>
<script src="{% static 'blast/scripts/dragscrollable.js' %}"></script>
<script src="{% static 'blast/dataTables/js/jquery.dataTables-hotdogee.js' %}"></script>
<script src="{% static 'blast/dataTables/js/dataTables.scroller.js' %}"></script>
<script src="{% static 'blast/dataTables/js/dataTables.colReorder.min.js' %}"></script>
<script src="{% static 'blast/dataTables/js/dataTables.bootstrap.js' %}"></script>
<script src="{% static 'blast/scripts/underscore-min.js' %}"></script>
<script src="{% static 'blast/scripts/scribl.1.1.4.js' %}"></script>
<script src="{% static 'blast/scripts/bootstrap-select-hotdogee.js' %}"></script>
<script src="{% static 'blast/scripts/blast-results.js' %}"></script>
    <!--
<script src="{% static 'blast/dataTables/js/dataTables.tableTools.js' %}"></script>
    -->
{% endblock %}
